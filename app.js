var t={1:function(t,e,n){var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){var n=document.createElement("div");n.classList.add("griditem","infogriditem");var i=document.createElement("div");i.classList.add("datearrow"),i.innerText="ðŸ¡†",n.appendChild(i);var r=document.createElement("div");r.classList.add("datemonthday"),r.innerText=e.getDate()+"/"+e.getMonth(),n.appendChild(r);var o=document.createElement("div");return o.classList.add("dateyear"),o.innerText=e.getFullYear()+"",n.appendChild(o),document.getElementById("gallery").appendChild(n),t.call(this,n)||this}return r(e,t),e}(o(n(445)).default);e.default=s},63:function(t,e,n){var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){var n=this,i=document.createElement("div");return i.classList.add("griditem","griditemphoto"),i.style.backgroundImage="url(".concat(e.url,")"),document.getElementById("gallery").appendChild(i),(n=t.call(this,i)||this).photo=e,n}return r(e,t),e}(o(n(445)).default);e.default=s},88:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function d(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,d)}a((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=d(0),s.throw=d(1),s.return=d(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function d(d){return function(a){return function(d){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&d[0]?i.return:d[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,d[1])).done)return r;switch(i=0,r&&(d=[2&d[0],r.value]),d[0]){case 0:case 1:r=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,i=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==d[0]&&2!==d[0])){o=0;continue}if(3===d[0]&&(!r||d[1]>r[0]&&d[1]<r[3])){o.label=d[1];break}if(6===d[0]&&o.label<r[1]){o.label=r[1],r=d;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(d);break}r[2]&&o.ops.pop(),o.trys.pop();continue}d=e.call(t,o)}catch(t){d=[6,t],i=0}finally{n=r=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,a])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(n(743)),d=o(n(119)),a=o(n(1)),l=o(n(547)),u=o(n(445)),c=o(n(63)),f=function(){function t(){var e=this;this.currentGridItemSelected=-1,this.photos=[],t.instance=this,this.dirselect=document.getElementById("dirselect"),this.preview=document.getElementById("preview"),this.photodate=document.getElementById("photodate"),this.galleryslider=document.getElementById("galleryslider"),this.dsicamerabutton=new l.default(document.getElementById("dsicamerabutton"),function(){document.getElementById("menuscreen").style.display="none",document.getElementById("sdcardscreen-camera").style.display="inherit",document.getElementById("sdcardscreen-camera").style.display="inherit",document.body.style.backgroundImage='url("looping.png")',document.getElementById("navbar").style.backgroundColor="#82658a"}),this.sdcardbutton=new s.default(document.getElementById("sdcardbutton"),function(){e.sdcardbutton.selected=!0,e.dirselect.click(),e.dirselect.addEventListener("cancel",function(t){e.sdcardbutton.selected=!1}),e.dirselect.addEventListener("change",function(){if(null!=e.dirselect.files){document.getElementById("sdcardscreen-camera").style.display="none",document.getElementById("albumscreen").style.display="flex",document.body.style.backgroundImage='url("looping_album.png")',document.getElementById("navbar").style.backgroundColor="#ff5900";for(var n=0;n<e.dirselect.files.length;n++){var i=e.dirselect.files.item(n);null!=i&&e.parseFile(i)}for(e.photos.sort(function(t,e){return t.photo.lastModified-e.photo.lastModified}),document.getElementById("photoscount").innerText=""+e.photos.length,n=0;n<e.photos.length;n++){var r=e.photos[n];if(0!=n){var o=e.photos[n-1],s=new Date(r.photo.lastModified);new Date(o.photo.lastModified).getDay()!=s.getDay()&&t.griditems.push(new a.default(s))}else t.griditems.push(new a.default(new Date(r.photo.lastModified)));t.griditems.push(new c.default(r))}t.griditems.push(new u.default(document.getElementById("totalphotos"))),e.setGridItem(t.griditems.length-1),e.galleryslider.max=""+(t.griditems.length-1),e.galleryslider.addEventListener("input",function(t){e.setGridItem(e.galleryslider.valueAsNumber)}),requestAnimationFrame(t.instance.updatePreview)}})})}return t.prototype.setGridItem=function(e){this.currentGridItemSelected=e,this.galleryslider.valueAsNumber=this.currentGridItemSelected;var n=t.griditems[e];n instanceof c.default?(this.preview.style.opacity="1",n.photo.applyToPreview()):this.preview.style.opacity="0"},t.prototype.updatePreview=function(){for(var e=0;e<t.griditems.length;e++)t.griditems[e].update();requestAnimationFrame(function(e){t.instance.updatePreview()})},t.prototype.parseFile=function(t){return i(this,void 0,void 0,function(){return r(this,function(e){return t.name.startsWith("HNI_")&&t.name.endsWith(".JPG")&&this.photos.push(new d.default(t)),[2]})})},t.griditems=[],t}();e.default=f,new f},119:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(88)),o=function(){function t(t){this.photo=t,this.url=URL.createObjectURL(this.photo)}return t.prototype.applyToPreview=function(){r.default.instance.preview.src=this.url,r.default.instance.photodate.innerText=new Date(this.photo.lastModified).toLocaleString()},t}();e.default=o},445:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(88)),o=function(){function t(t){var e=this;this.id=r.default.griditems.length,console.log(this.id),this.div=t,this.div.addEventListener("click",function(t){r.default.instance.setGridItem(e.id)}),this.x=0,this.y=0,this.update()}return t.prototype.update=function(){this.x=window.innerWidth/2-t.GRID_WIDTH/2,this.x+=-160*(r.default.instance.currentGridItemSelected-this.id);var e=(this.div.getBoundingClientRect().x+t.GRID_WIDTH/2)/window.innerWidth;e>.5&&(e=1-e),this.y=48*e,-200>this.x+t.GRID_WIDTH||this.x>window.innerWidth+200?this.div.style.display="none":(this.div.style.display="inherit",r.default.instance.currentGridItemSelected==this.id?(this.div.style.border="8px ridge #ff9230",this.div.style.outline="2px solid white",this.div.style.borderRadius="8px"):(this.div.style.border="",this.div.style.outline="",this.div.style.borderRadius=""),this.div.style.left="".concat(this.x,"px"),this.div.style.top="".concat(this.y,"px"))},t.GRID_WIDTH=128,t.GRID_HEIGHT=128,t}();e.default=o},547:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.div=t,this.div.addEventListener("click",function(){e()})}return Object.defineProperty(t.prototype,"selected",{get:function(){return this.div.classList.contains("dsimenubutton_selected")},set:function(t){t?this.div.classList.contains("dsimenubutton_selected")||this.div.classList.add("dsimenubutton_selected"):this.div.classList.remove("dsimenubutton_selected")},enumerable:!1,configurable:!0}),t}();e.default=n},743:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.div=t,this.div.addEventListener("click",function(){e()})}return Object.defineProperty(t.prototype,"selected",{get:function(){return this.div.classList.contains("cambutton_selected")},set:function(t){t?this.div.classList.contains("cambutton_selected")||this.div.classList.add("cambutton_selected"):this.div.classList.remove("cambutton_selected")},enumerable:!1,configurable:!0}),t}();e.default=n}},e={};!function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}(88);