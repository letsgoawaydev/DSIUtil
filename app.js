var t={9:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(276)),r=function(){function t(t){this.photo=t,this.url=null}return t.prototype.revokeURL=function(){null!=this.url&&(URL.revokeObjectURL(this.url),this.url=null)},t.prototype.createURL=function(){return this.revokeURL(),URL.createObjectURL(this.photo)},t.prototype.applyToPreview=function(){null==this.url&&(this.url=this.createURL()),o.default.instance.preview.src=this.url,o.default.instance.photodate.setDate(new Date(this.photo.lastModified))},t}();e.default=r},88:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(252)),r=i(n(276)),s=function t(){var e=this;this.camera=null,t.instance=this,this.dsicamerabutton=new o.default(document.getElementById("dsicamerabutton"),function(){document.getElementById("menuscreen").style.display="none",document.getElementById("menufooter").style.display="none",e.camera=new r.default}),this.dsisoundbutton=new o.default(document.getElementById("dsisoundbutton"),function(){})};e.default=s,new s},252:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.div=t,this.div.addEventListener("click",function(){e()})}return Object.defineProperty(t.prototype,"selected",{get:function(){return this.div.classList.contains("dsimenubutton_selected")},set:function(t){t?this.div.classList.contains("dsimenubutton_selected")||this.div.classList.add("dsimenubutton_selected"):this.div.classList.remove("dsimenubutton_selected")},enumerable:!1,configurable:!0}),t}();e.default=n},276:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{d(i.next(t))}catch(t){r(t)}}function l(t){try{d(i.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,l)}d((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(l){return function(d){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){r=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(6===l[0]&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(t){l=[6,t],i=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,d])}}},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(n(744)),l=r(n(9)),d=r(n(914)),a=r(n(812)),u=r(n(532)),c=r(n(644)),h=function(){function t(){var e=this;this.currentGridItemSelected=-1,this.photos=[],t.instance=this,document.getElementById("camerafooter").style.display="inherit",document.getElementById("sdcardscreen-camera").style.display="inherit",document.getElementById("sdcardscreen-camera").style.display="inherit",document.body.style.backgroundImage='url("looping.png")',document.getElementById("navbar").style.backgroundColor="#82658a",this.dirselect=document.getElementById("dirselect"),this.preview=document.getElementById("preview"),this.photodate=new c.default(document.getElementById("photodate")),this.galleryslider=document.getElementById("galleryslider"),this.sdcardbutton=new s.default(document.getElementById("sdcardbutton"),function(){e.sdcardbutton.selected=!0,e.dirselect.click(),e.dirselect.addEventListener("cancel",function(t){e.sdcardbutton.selected=!1}),e.dirselect.addEventListener("change",function(){e.loadPreviewMenu()})})}return t.prototype.loadPreviewMenu=function(){var e=this;if(null!=this.dirselect.files){for(var n=0;n<this.dirselect.files.length;n++){var i=this.dirselect.files.item(n);null!=i&&this.parseFile(i)}if(0==this.photos.length)return this.sdcardbutton.selected=!1,void alert("No photos were found.");for(document.getElementById("sdcardscreen-camera").style.display="none",document.getElementById("albumscreen").style.display="flex",document.getElementById("camerafooter").style.display="none",document.body.style.backgroundImage='url("looping_album.png")',document.getElementById("navbar").style.backgroundColor="#ff5900",this.photos.sort(function(t,e){return t.photo.lastModified-e.photo.lastModified}),document.getElementById("photoscount").innerText=""+this.photos.length,n=0;n<this.photos.length;n++){var o=this.photos[n];if(0!=n){var r=this.photos[n-1],s=new Date(o.photo.lastModified);new Date(r.photo.lastModified).getDay()!=s.getDay()&&t.griditems.push(new d.default(s))}else t.griditems.push(new d.default(new Date(o.photo.lastModified)));t.griditems.push(new u.default(o))}t.griditems.push(new a.default(document.getElementById("totalphotos"))),this.setGridItem(t.griditems.length-1),this.galleryslider.max=""+(t.griditems.length-1),this.galleryslider.addEventListener("input",function(t){e.setGridItem(e.galleryslider.valueAsNumber)}),requestAnimationFrame(t.instance.updatePreview)}},t.prototype.setGridItem=function(e){this.currentGridItemSelected=e,this.galleryslider.valueAsNumber=this.currentGridItemSelected;var n=t.griditems[e];n instanceof u.default?(this.preview.style.opacity="1",n.photo.applyToPreview()):this.preview.style.opacity="0"},t.prototype.updatePreview=function(){for(var e=0;e<t.griditems.length;e++)t.griditems[e].update();requestAnimationFrame(function(e){t.instance.updatePreview()})},t.prototype.parseFile=function(t){return i(this,void 0,void 0,function(){var e,n;return o(this,function(i){return e=t.name.startsWith("HNI_")&&t.name.endsWith(".JPG"),n=t.name.startsWith("IMG_")&&t.name.endsWith(".PNG"),(e||n)&&this.photos.push(new l.default(t)),[2]})})},t.griditems=[],t}();e.default=h},532:function(t,e,n){var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){var n=this,i=document.createElement("div");return i.classList.add("griditem","griditemphoto"),(n=t.call(this,i)||this).photo=e,document.getElementById("gallery").appendChild(i),n}return o(e,t),e.prototype.offscreenStyle=function(){t.prototype.offscreenStyle.call(this),this.div.style.backgroundImage="",this.photo.revokeURL()},e.prototype.onscreenStyle=function(){t.prototype.onscreenStyle.call(this),null==this.photo.url&&(this.photo.url=this.photo.createURL()),this.div.style.backgroundImage="url(".concat(this.photo.url,")")},e}(r(n(812)).default);e.default=s},644:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.div=t}return t.prototype.setDate=function(t){this.div.innerText=t.toLocaleString()},t}();e.default=n},744:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.div=t,this.div.addEventListener("click",function(){e()})}return Object.defineProperty(t.prototype,"selected",{get:function(){return this.div.classList.contains("cambutton_selected")},set:function(t){t?this.div.classList.contains("cambutton_selected")||this.div.classList.add("cambutton_selected"):this.div.classList.remove("cambutton_selected")},enumerable:!1,configurable:!0}),t}();e.default=n},812:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(276)),r=function(){function t(t){var e=this;this.id=o.default.griditems.length,console.log(this.id),this.div=t,this.div.addEventListener("click",function(t){o.default.instance.setGridItem(e.id)}),this.x=0,this.y=0}return t.prototype.update=function(){this.x=window.innerWidth/2-t.GRID_WIDTH/2,this.x+=-160*(o.default.instance.currentGridItemSelected-this.id);var e=(this.div.getBoundingClientRect().x+t.GRID_WIDTH/2)/window.innerWidth;e>.5&&(e=1-e),this.y=48*e,-200>this.x+t.GRID_WIDTH||this.x>window.innerWidth+200?this.offscreenStyle():this.onscreenStyle()},t.prototype.offscreenStyle=function(){this.div.style.display="none"},t.prototype.onscreenStyle=function(){this.div.style.display="inherit",o.default.instance.currentGridItemSelected==this.id?(this.div.style.border="8px ridge #ff9230",this.div.style.outline="2px solid white",this.div.style.borderRadius="8px"):(this.div.style.border="",this.div.style.outline="",this.div.style.borderRadius=""),this.div.style.left="".concat(this.x,"px"),this.div.style.top="".concat(this.y,"px")},t.GRID_WIDTH=128,t.GRID_HEIGHT=128,t}();e.default=r},914:function(t,e,n){var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){var n=document.createElement("div");n.classList.add("griditem","infogriditem");var i=document.createElement("div");i.classList.add("datearrow"),i.innerText="🡆",n.appendChild(i);var o=document.createElement("div");o.classList.add("datemonthday"),o.innerText=e.getDate()+"/"+e.getMonth(),n.appendChild(o);var r=document.createElement("div");return r.classList.add("dateyear"),r.innerText=e.getFullYear()+"",n.appendChild(r),document.getElementById("gallery").appendChild(n),t.call(this,n)||this}return o(e,t),e}(r(n(812)).default);e.default=s}},e={};!function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}(88);